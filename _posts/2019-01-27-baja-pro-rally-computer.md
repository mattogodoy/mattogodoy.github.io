---
author: matto
title: Baja Pro rally computer
date: 2019-01-27T21:12:00+01:00
image: 
  path: /images/bg2.jpg
categories:
tags:
- electronica
- impresora-3d
- programacion
- cnc
- moto
hidden: true
---

## Estado actual

En esta página encontrarás actualizaciones acerca del estado del desarrollo y pruebas del Baja Pro. Para recibir estas actualizaciones en tu e-mail [suscríbete a la lista de correos](https://baja.matto.io/#newsletter-area).

## 08/10/2019

### Primera prueba superada

Mi amigo Jaime Lozano de [Cabras Sobre Ruedas](https://www.cabrassobreruedas.com) me ha dado una gran alegría este fin de semana, dado que ha participado en la [xTrem 300](https://www.xtrem300.com) de Huéneja con su KTM 990R y llevaba una unidad de prueba del nuevo modelo del Baja Pro.

![](/images/WhatsApp-Image-2019-10-07-at-10.55.52.jpeg)
_El setup con el que ha participado Jaime de la xTrem 300_

Esta ha sido su experiencia:

> Para terminar, tuve el placer por fin de estrenar el #BajaPro V3 y la verdad es que estoy encantado. No sólo es más reducido en tamaño (excepto la pantalla) si no que tiene un aspecto más moderno, compacto y resistente. Queda perfectamente integrado en la placa soporte del porta roadbook y encima cuenta con muchas mejoras. Las dos que más me han llamado la atención es la rapidez con la que capta señal GPS ahora (apenas unos segundos) y la otra es que en todo momento puedes ver el trip total real del recorrido. Algo muy útil para saber el desfase acumulado. Otra función muy interesante es el quickview que desde cualquier menú te permite ver la función “trip A” accionando cualquier botón. En definitivas cuentas, me alegro de llevar un aliado así al 1000 DUNAS RAID.

Podéis leer el resto del post [aquí](https://www.facebook.com/cabrassobreruedas/posts/908858146139086).

Me alegra mucho que todo haya salido bien y me da más fuerzas para continuar con el desarrollo.

Próxima parada: el [1000 Dunas Raid](https://1000dunas.com)

## 13/09/2019

### Instagram

Esta es una pequeña actualización para comentaros que he creado una cuenta de Instagram en la que he añadido algunas fotos mostrando la evolución histórica del proyecto, y en la que iré posteando más en la medida en que el proyecto vaya avanzando.

El nombre de la cuenta es [**bajarallycomputers**](https://www.instagram.com/bajarallycomputers/)

¡Os espero por allí!

## 25/08/2019

### Noticias

Lentamente voy avanzando con el proyecto. Durante estos últimos meses no he podido progresar a la velocidad a la que me gustaría. Un cambio de empleo, varios proyectos y la vida se han puesto en el camino, pero sigo adelante.

#### Materiales

He estado comprando materiales de a poco para poder avanzar en el proyecto. La idea es hacer una primera tirada de unas 20 unidades y si todo va bien seguir haciendo más unidades.

De momento ya he comprado las cajas, algunos botones, las pantallas, algunos componentes, los microcontroladores y las placas base.

![](/images/20190825_185050.jpg)
_Algunos de los materiales que han llegado durante estos meses_

![](/images/20190825_185246.jpg)
_Pantallas para el Baja Pro_

Con esto ya podría empezar a cortar cajas y protectores de pantalla, y soldar algunos de los componentes.

#### Dificultades

Afortunadamente, luego de mucho indagar he resuelto el problema del plástico transparente para el protector de la pantalla. Usaré **policarbonato compacto**. Es lo que se usa para la mayoría de productos ya que es mucho más resistente a impactos que el metacrilato.

Muchos de los componentes son bastante caros y necesito muchos, por lo que me ha pasado múltiples veces que tengo que pagar gastos de aduanas, encareciendo sensiblemente el coste de producción. Lamentablemente no son productos que puedan conseguirse dentro de la Unión Europea, por lo que no tengo muchas alternativas.

Por algún motivo los módulos GPS han aumentado su precio al doble en estos últimos meses. No he logrado encontrar una explicación, pero ahora todos los proveedores lo venden al nuevo precio. Esto me da bastante que pensar en cuanto al coste base de producción de cada unidad. Si los precios de los componentes varían tan radicalmente en tan poco tiempo, me será difícil estimar un precio final y estable de venta del producto.

#### Proceso de venta

Una de las cosas que más me preocupan actualmente es cómo vender las unidades. Recordad que esto es un proyecto que hago durante mi tiempo libre. No soy autónomo y por lo tanto no puedo emitir facturas.

Darme de alta como autónomo no está en mis planes, siendo dos los motivos principales:

- Tengo un contrato de exclusividad en mi actual empleo, por lo que no podría trabajar en ninguna otra cosa. 
- No estoy dispuesto a pagar la cuota de autónomos. El sistema está mal pensado; facture o no facture tendría que pagar mensualmente la cuota.

En España hay pocas o ninguna ayuda para emprendedores con pequeños proyectos como el mío. Es un problema que tendré que solucionar de alguna manera y me quitará tiempo que podría estar dedicando al avance del proyecto. Es increíble que el estado no me dé herramientas para pagar impuestos de manera sencilla sobre los productos que quiero vender de forma legal.

#### Próximos pasos

En las siguientes semanas empezaré a cortar las cajas y los protectores de pantalla. Empezaré también a soldar los componentes que tengo. Con esto ya tengo muchísimo trabajo.

Seguiré comprando de a poco el resto de componentes para lograr la tirada de las primeras 20 unidades que tengo en mente hacer. Lamentablemente no puedo comprar todo a la vez porque no me da el presupuesto, y aunque pudiera, aduanas se daría un buen festín conmigo.

Seguimos en contacto!

* * *

## 24/04/2019

### Algunos avances

Es verdad que no envío novedades desde hace un tiempo, pero eso no significa que haya dejado de trabajar en el Baja Pro. Mas bien todo lo contrario.

#### Cajas

Me atrevo a decir que he dedicado la misma cantidad de horas a buscar una carcasa que se ajuste a mis necesidades que a desarrollar el software y el hardware de este proyecto. Es muy difícil dado que necesitaba un tamaño y unas características bastante particulares, y sobre todo, que tenga un acabado aceptable y no parezca una caja de luz.

Finalmente di con unas cajas que cumplen con todos mis requisitos (son las que se ven en las fotos de la web), aunque son mucho mas pequeñas que los modelos anteriores. Esto me llevó a tener que modificar todos los componentes y los esquemas de la electrónica, y por supuesto también el código. Tuve que adaptar el producto a la caja, cuando suele ser al revés. De todas maneras estoy contento con el resultado porque ahora es Baja Pro es mas pequeño, liviano, robusto y con un acabado mas respetable.

Como nada es fácil, ahora me enfrentaba al problema de que tengo que cortar una ventana rectangular en cada caja para exponer la pantalla. Esto es más difícil de lo que parece, dado que las cajas son bastante robustas y no son fáciles de cortar.

Di con una empresa que podía hacer las ventanas con una fresadora de corte numérico (CNC), pero el coste era bastante elevado, y mi idea es mantener los costes al mínimo para que el precio del Baja Pro sea asequible para simples mortales como tú y yo.

Finalmente me decidí a montar mi propia fresadora CNC y a efectuar los cortes yo mismo. De esa manera no dependeré de nadie y podré hacer todas las pruebas necesarias directamente en casa hasta llegar al resultado deseado. Las primeras pruebas han sido muy satisfactorias:

![](/images/20190416_193347.jpg)
_Proceso de corte con mi propia fresadora CNC_

El tiempo de corte es muy bajo y tanto la precisión como el acabado son sorprendentemente buenos:

![](/images/20190416_211158.jpg)
_Caja recortada y cristal protector_

En la siguiente imagen se puede apreciar la diferencia entre una caja cortada a mano con una dremmel y una cortada con la fresadora:

![](/images/20190416_210456.jpg)
_Diferencia entre corte manual y automatizado_

Y el resultado final con el hardware montado es el siguiente:

![](/images/20190416_205926.jpg)
_Caja terminada_

#### Cristal protector

El cristal (en realidad es un policarbonato transparente) que estoy utilizando actualmente es especial. Está pensado para evitar reflejos. En teoría está muy bien, pero en la práctica tiene algunos problemas.

En primer lugar, es realmente bueno en su cometido de evitar reflejos, pero para que esto funcione, una de sus caras es rugosa. Esto implica que lo que está detrás (en nuestro caso la pantalla) se vea un poco borroso:

![](/images/20190416_211556.jpg)
_Cristal anti reflejos_

De todas formas la información de la pantalla se distingue perfectamente. Esto no sería un problema muy importante a no ser por las pruebas que he efectuado en escenarios reales: Al ser una superficie rugosa provoca que el polvo se almacene en el propio cristal, y eso sumado a la luz directa del sol hace que sea bastante más difícil ver los datos de la pantalla.

Finalmente he decidido que usaré un cristal convencional como los que llevan los tableros de nuestras motos. El problema es que no sé exactamente que material usar. Hay mucha variedad. Es por eso que **os pido un favor** : si alguien conoce algún material transparente de alta resistencia y que no se raye fácilmente, agradecería me lo mencione en un mail a [baja@matto.io](mailto: baja@matto.io)

#### GPS

Las novedades no terminan allí. Otra cosa a la que he dedicado MUCHO tiempo es a la elección del módulo GPS que utilizaré.

Hasta ahora estaba usando uno bastante standard. Es un poco grande y sólo capta señal de satélites GPS.

Luego de mucho investigar, he dado con unos módulos que son más pequeños y además de utilizar satélites GPS (estadounidenses), pueden usar también Galileo (europeos), Glonass (rusos) y Beidou (chinos). Esto mejora sensiblemente no solo la precisión sino también el tiempo en que demora en obtener ubicación.

![](/images/20190401_181438.jpg)
_Comparativa de tamaño: A la izquierda el nuevo módulo, a la derecha el anterior_

Otra gran ventaja es que los nuevos módulos pueden entregar actualizaciones de posición a 10Hz (10 veces por segundo), cuando el modelo anterior solo daba un valor de posición por segundo.

He estado haciendo pruebas con los nuevos módulos y los resultados son realmente satisfactorios, por lo que he decidido que los usaré para el producto final.

#### Próximos pasos

Tengo que encontrar y probar un material que se adapte a mis necesidades para usar como cristal protector de pantalla. Estoy en ello y como he dicho antes, agradecería cualquier recomendación de vuestra parte.

En cuanto al GPS, si bien ya lo he probado y va perfecto, quisiera aprovechar la funcionalidad de actualizaciones a 10Hz. Esto implica cambiar la librería de código que utilizo actualmente por otra que tenga esta capacidad, pero creo que merecerá la pena.

¡Ya queda menos!

* * *

## 28/02/2019

### ¡Buenas noticias!

Hoy os traigo algunas novedades.

#### Memoria

Ya están aquí los nuevos chips de memoria. He comprado varios y de diferentes tipos, para dar con el modelo que mejor se ajuste a mis necesidades.

Después de muchas (de verdad, muchas) horas de prueba y error y dolores de cabeza, finalmente he logrado hacerlas funcionar y almacenar información de manera persistente.

![](/images/memory.jpg)

En este preciso momento estoy haciendo una prueba de estrés para ver si la memoria resiste la escritura de datos a alta frecuencia durante periodos largos de tiempo. Por ahora tiene buena pinta.

#### Ubicación de los tornillos

Han llegado también algunos de los microcontroladores de montaje superficial que os comentaba en la actualización anterior. De momento funcionan bien. Si bien tendré que hacer modificaciones importantes en la placa y el código del Baja Pro, esto me dejará lugar suficiente para la correcta ubicación de los tornillos de fijación.

#### Próximos pasos

En caso de que las pruebas de la memoria den resultados satisfactorios, el siguiente paso será rediseñar la placa base para adaptar el nuevo tipo de microcontrolador y la memoria, además de los nuevos componentes necesarios para que todo funcione correctamente. Si bien esto lleva tiempo, espero poder ponerme con ello en los próximos días.

Finalmente, encargaré las placas al fabricante, junto con algunos componentes para montar un prototipo y ver si todo funciona como espero.

Os mantendré al tanto.

* * *

## 27/01/2019

### Creación de página web

Hoy finalmente he terminado con el desarrollo de una página web en la que se pueden ver algunas de las características del nuevo modelo del Baja Pro.

Puedes ver la nueva página en:

**[https://baja.matto.io](https://baja.matto.io)**

### Avances

Actualmente me encuentro con algunos problemas que debo resolver antes de poner a la venta el Baja Pro:

#### Memoria

El microcontrolador que hace las veces de cerebro del Baja Pro cuenta con una memoria interna llamada EEPROM. Esta memoria nos permite almacenar valores que no queremos perder al apagar el dispositivo. En el caso del Baja Pro, estos valores son las opciones seleccionadas del menú y las distancias y tiempos de recorrido de carrera.  
El problema en cuestión es que las memorias EEPROM tienen una cantidad limitada de veces en las que pueden ser escritas (aproximadamente 100.000 veces).

Idealmente, cada vez que obtengo un valor nuevo de distancia debería guardarlo. De esta manera, al apagar el Baja Pro, no se perdería el recorrido actual. Dado que el Baja Pro actualiza los valores de distancia recorrida cada 1 segundo, y teniendo en cuenta que la limitación física en la cantidad de escrituras en la EEPROM es de 100.000 veces, esto significa que la memoria sólo tendría una vida útil de aproximadamente 28 horas de uso continuo. No es suficiente.

Para solucionar ese problema en modelos anteriores, lo que he hecho es que los valores de distancia se almacenen en memoria sólo cuando el Baja Pro detecta que la velocidad de la moto baja a 5kms/h o menos. De esta forma se reduce drásticamente la cantidad de escrituras a memoria necesarias y no se pierden los valores del recorrido.

Esta solución no es perfecta por al menos un par de motivos: Muchos pilotos están acostumbrados a parar la moto momentos antes de llegar a destino, y llegar sólo con el envión. Al apagar la moto a una velocidad superior a 5kms/h, el Baja Pro nunca detecta que se está reduciendo la velocidad y por lo tanto aún no ha guardado los valores del recorrido. Si el Baja Pro no está conectado directamente a la batería, se apagará al parar la moto y todos los valores se perderán, dejando al piloto sin saber su ubicación en el RoadBook.

Algo parecido podría pasar si por un fallo eléctrico el Baja Pro se desconectase en medio de un recorrido. Todos los valores de distancia desde el último punto de guardado se habrán perdido.

Como solución a este problema estoy haciendo unas pruebas con un tipo de memorias relativamente nuevo llamadas [FRAM](https://en.wikipedia.org/wiki/Ferroelectric_RAM), las cuales permiten un número altísimo de escrituras (aproximadamente 1.000.000.000.000.000 veces), el cual nos daría una vida útil virtualmente ilimitada de la memoria.

Os mantendré al tanto de cualquier novedad respecto al resultado de dichas pruebas.

#### Ubicación de los tornillos

La nueva carcasa del Baja Pro es extremadamente pequeña, liviana y resistente. Esto trae como consecuencia la reducción de espacio interior para los componentes electrónicos y los tornillos de fijación (los utilizados para montar el Baja Pro en el soporte del RoadBook).

En este momento me encuentro con el problema de que si bien los componentes que hacen funcionar al Baja Pro entran correctamente dentro de la caja, pero no me queda espacio para la cabeza de los tornillos de fijación por el lado interior de la carcasa.

Por este motivo he tenido que cambiar la mayor parte de los componentes electrónicos por versiones más pequeñas para reducir el espacio que ocupan dentro de la caja. Actualmente estoy intentando cambiar el tipo de microcontrolador que estoy utilizando a una versión de [montaje superficial](https://es.wikipedia.org/wiki/Tecnolog%C3%ADa_de_montaje_superficial) para dejar sitio a los tornillos.

Esto tiene varias implicaciones. La forma de almacenar el código fuente es ahora más complicada y tendré que rediseñar la placa base para distribuir los componentes electrónicos de manera que quede sitio para las cabezas de los tornillos por el lado interior de la carcasa. El montaje de cada unidad será más complicado y por tanto llevará mas tiempo, pero tendrá un acabado mas profesional y robusto.
